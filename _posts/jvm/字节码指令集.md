---
title: 字节码指令集
category: jvm
date: 2024-07-03 14:34:01
updated: 2024-07-03 14:34:01
enname: bytecode
categories: jvm
tags:
	- 面试
	- jvm
keywords: 字节码指令
permalink:
thumbnail:
---

# 基本概念
* 由一个字节大小的操作码+零个或多个操作数组成
* 一个字节决定了最多有256个操作码<!--more-->

</br>

# 加载与存储指令
* 作用：将数据从栈帧中的局部变量表到操作数栈之间来回传递
* 关键词：load、push、ldc表示加载数据到操作数栈，store表示存储数据到局部变量表(此时栈数据位置被释放)
* 举例：xload、xload_n，其中x可以是a/i/d/f等，n可以是0到3表示局部变量表中的位置

# 算数指令
* 作用：对两个操作数栈上的值进行运算并将结果压入操作数栈
* 关键词：加add/减sub/乘mul/除div/取余rem/取反neg/自增inc/位移sh/或or/与and/非xor/比较cmp
* 说明
    * 比较指令：比较栈顶两个元素大小，并将结果入栈
    * NaN结果：例如0.0/0.0的结果是一个不确定的值即NaN表示(理解：分子和分母相同结果应该为1，但是分母为0.0结果应该无穷大，因此不确定)

# 类型转换指令
* 作用：将两个数值类型的指令进行相互转换
* 指令
    * 宽化类型转换：i2l/i2d/i2f/l2f/l2d/f2d
    * 窄化类型转换：i2b/i2c/i2s/l2i/f2l/f2i/d2i/d2f/d2l
* 说明
    * byte/short/char类型转换会默认当作int进行处理
    * 两种转换都会存在精度损失问题
    * 精度损失时虚拟机不会报异常

# 对象创建与访问指令
* 作用：针对类和数组的创建指令
* 创建指令
    * 类创建：new 它接受一个操作数为指向常量池的类型索引，执行结果为对象的引用并入栈
* 创建数组
    * 基本类型：newarray
    * 引用类型：anewarray
    * 多层级数组：multianewarray
* 




</br>

</br>

</br>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?2f798e6b269c8a40f12bef25d7f1876d";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<div style="height:260px; background-color:rgb(238,240,244); padding:10px;border-radius:10px;">
    <p style="color:#f36c21;font:bold 16px/20px 'kaiTi';">
      版权声明：本文为博主原创文章，欢迎转载，转载请注明作者、原文超链接，感谢各位看官!!!
    </p>
    <p>
      <span style="font:bold 16px/20px 'kaiTi';">本文出自：</span><a href="https://monkeyGeek369.github.io">monkeyGeek</a> 
    </p>
    <p>
      <span style="font:bold 16px/20px 'kaiTi';">座右铭：</span><span>生于忧患，死于安乐</span> 
    </p>
    <p>
      <span style="font:16px/20px 'kaiTi';">欢迎志同道合的朋友一起交流、探讨！</span> 
    </p>
    <img style="height:auto; width:auto;flot:left;" src="../../../../image/monkey64.png" /><span style="font:16px/20px 'kaiTi';flot:left;">   monkeyGeek</span>


